<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>studentscore</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
  </head>
<style>
    body {
      background-color: #82868a;
    }
    .card {
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>
  <div class="container mt-5">
    <h2 class="text-center mb-4">ðŸ“˜ Student Grade Evaluator</h2>
    <div id="result"></div>   // empty div
  </div>

  <script>
    const students = [
      { name: "Selam", scores: [85, 90, 78, 92] },
      { name: "Kebede", scores: [60, 55, 45, 30] },
      { name: "Almaz", scores: [95, 98, 92, 89] },
      { name: "Biniyam", scores: [35, 38, 34, 40] },
    ];

    // Arrow functions
    const getTotal = scores => scores.reduce((sum, s) => sum + s, 0);//function used to combine values
    const getAverage = scores => getTotal(scores) / scores.length;
    const getGrade = avg => {
      if (avg >= 90) return "A+";
      else if (avg >= 80) return "A";
      else if (avg >= 70) return "B";
      else if (avg >= 60) return "C";
      else if (avg >= 50) return "D";
      else return "F";
    };
    const isPassed = scores => !scores.some(score => score < 35);

    const evaluatedStudents = students.map(student => {
      const total = getTotal(student.scores);
      const avg = getAverage(student.scores);
      const grade = getGrade(avg);
      const passed = isPassed(student.scores);
      return {
        name: student.name,
        total,
        average: avg.toFixed(2),
        grade,
        status: passed ? "Pass " : "Fail "
      };
    });

    // Output to HTML
    const resultDiv = document.getElementById("result");

    evaluatedStudents.forEach(s => {    //creates a bootstrap card
      resultDiv.innerHTML += `
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="card-title">ðŸ‘¤ ${s.name}</h5>
            <p class="card-text">
               <strong>Total:</strong> ${s.total}<br>
               <strong>Average:</strong> ${s.average}<br>
               <strong>Grade:</strong> ${s.grade}<br>
               <strong>Status:</strong> ${s.status}
            </p>
          </div>
        </div>
      `;
    });
  </script>
</body>
</html>
